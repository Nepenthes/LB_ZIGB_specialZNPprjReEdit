###############################################################################
#
# IAR C/C++ Compiler V10.10.1.4655 for 8051               09/May/2018  15:32:38
# Copyright 2004-2017 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\Source\zcl_sampledoorlock_data.c
#    Command line       =  
#        -f C:\Users\NEPENT~1\AppData\Local\Temp\EW5D29.tmp
#        ("D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\Source\zcl_sampledoorlock_data.c"
#        -D SECURE=1 -D TC_LINKKEY_JOIN -D NV_INIT -D xNV_RESTORE -D
#        xPOWER_SAVING -D NWK_AUTO_POLL -D HOLD_AUTO_START -D ZTOOL_P1 -D
#        MT_TASK -D MT_APP_FUNC -D MT_SYS_FUNC -D MT_ZDO_FUNC -D
#        LCD_SUPPORTED=DEBUG -D MULTICAST_ENABLED=FALSE -D ZCL_READ -D
#        ZCL_WRITE -D ZCL_REPORT -D ZCL_EZMODE -D ZCL_BASIC -D ZCL_IDENTIFY -D
#        ZCL_DOORLOCK -D ZCL_SCENES -D ZCL_GROUPS -lC
#        "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\EndDeviceEB\List"
#        -lA "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\EndDeviceEB\List"
#        --diag_suppress Pe001,Pa010 -o "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\EndDeviceEB\Obj"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -f
#        "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_TX_DATA_MAX=3
#        -DMAC_CFG_TX_MAX=6 -DMAC_CFG_RX_MAX=3) -f "D:\Zigbee\Software\Z-Stack
#        Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFFFF
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
#        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
#        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
#        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
#        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
#        -DREJOIN_POLL_RATE=440 -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000)
#        -f "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\Source\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\Source\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes)
#    Locale             =  Chinese (Simplified)_China.936
#    List file          =  
#        D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\EndDeviceEB\List\zcl_sampledoorlock_data.lst
#    Object file        =  
#        D:\Zigbee\Software\Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\CC2530DB\EndDeviceEB\Obj\zcl_sampledoorlock_data.r51
#
###############################################################################

D:\Zigbee\Software\Z-Stack Home 1.2.2a.44539\Projects\zstack\HomeAutomation\SampleDoorLock\Source\zcl_sampledoorlock_data.c
      1          /**************************************************************************************************
      2            Filename:       zcl_sampledoorlock_data.c
      3            Revised:        $Date: 2014-09-25 13:20:41 -0700 (Thu, 25 Sep 2014) $
      4            Revision:       $Revision: 40295 $
      5          
      6          
      7            Description:    Zigbee Cluster Library - sample device application.
      8          
      9          
     10            Copyright 2013-2014 Texas Instruments Incorporated. All rights reserved.
     11          
     12            IMPORTANT: Your use of this Software is limited to those specific rights
     13            granted under the terms of a software license agreement between the user
     14            who downloaded the software, his/her employer (which must be your employer)
     15            and Texas Instruments Incorporated (the "License").  You may not use this
     16            Software unless you agree to abide by the terms of the License. The License
     17            limits your use, and you acknowledge, that the Software may not be modified,
     18            copied or distributed unless embedded on a Texas Instruments microcontroller
     19            or used solely and exclusively in conjunction with a Texas Instruments radio
     20            frequency transceiver, which is integrated into your product.  Other than for
     21            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     22            works of, modify, distribute, perform, display or sell this Software and/or
     23            its documentation for any purpose.
     24          
     25            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     26            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     27            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     28            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     29            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     30            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     31            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     32            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     33            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     34            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     35            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     36          
     37            Should you have any questions regarding your right to use this Software,
     38            contact Texas Instruments Incorporated at www.TI.com.
     39          **************************************************************************************************/
     40          
     41          /*********************************************************************
     42           * INCLUDES
     43           */
     44          #include "ZComDef.h"
     45          #include "OSAL.h"
     46          #include "AF.h"
     47          #include "ZDConfig.h"
     48          
     49          #include "zcl.h"
     50          #include "zcl_general.h"
     51          #include "zcl_ha.h"
     52          #include "zcl_hvac.h"
     53          #include "zcl_closures.h"
     54          #include "zcl_power_profile.h"
     55          #include "zcl_appliance_control.h"
     56          #include "zcl_appliance_events_alerts.h"
     57          #include "zcl_ezmode.h"
     58          
     59          #include "zcl_sampledoorlock.h"
     60          
     61          /*********************************************************************
     62           * CONSTANTS
     63           */
     64          
     65          #define SAMPLEDOORLOCK_DEVICE_VERSION     0
     66          #define SAMPLEDOORLOCK_FLAGS              0
     67          
     68          #define SAMPLEDOORLOCK_HWVERSION          1
     69          #define SAMPLEDOORLOCK_ZCLVERSION         1
     70          
     71          /*********************************************************************
     72           * TYPEDEFS
     73           */
     74          
     75          /*********************************************************************
     76           * MACROS
     77           */
     78          
     79          /*********************************************************************
     80           * GLOBAL VARIABLES
     81           */
     82          
     83          // Basic Cluster

   \                                 In  segment XDATA_ROM_C, align 1
     84          const uint8 zclSampleDoorLock_HWRevision = SAMPLEDOORLOCK_HWVERSION;
   \                     zclSampleDoorLock_HWRevision:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ROM_C, align 1
     85          const uint8 zclSampleDoorLock_ZCLVersion = SAMPLEDOORLOCK_ZCLVERSION;
   \                     zclSampleDoorLock_ZCLVersion:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ROM_C, align 1
     86          const uint8 zclSampleDoorLock_ManufacturerName[] = { 16, 'T','e','x','a','s','I','n','s','t','r','u','m','e','n','t','s' };
   \                     zclSampleDoorLock_ManufacturerName:
   \   000000   10           DB 16
   \   000001   54           DB 84
   \   000002   65           DB 101
   \   000003   78           DB 120
   \   000004   61           DB 97
   \   000005   73           DB 115
   \   000006   49           DB 73
   \   000007   6E           DB 110
   \   000008   73           DB 115
   \   000009   74           DB 116
   \   00000A   72           DB 114
   \   00000B   75           DB 117
   \   00000C   6D           DB 109
   \   00000D   65           DB 101
   \   00000E   6E           DB 110
   \   00000F   74           DB 116
   \   000010   73           DB 115

   \                                 In  segment XDATA_ROM_C, align 1
     87          const uint8 zclSampleDoorLock_ModelId[] = { 16, 'T','I','0','0','0','1',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclSampleDoorLock_ModelId:
   \   000000   10           DB 16
   \   000001   54           DB 84
   \   000002   49           DB 73
   \   000003   30           DB 48
   \   000004   30           DB 48
   \   000005   30           DB 48
   \   000006   31           DB 49
   \   000007   20           DB 32
   \   000008   20           DB 32
   \   000009   20           DB 32
   \   00000A   20           DB 32
   \   00000B   20           DB 32
   \   00000C   20           DB 32
   \   00000D   20           DB 32
   \   00000E   20           DB 32
   \   00000F   20           DB 32
   \   000010   20           DB 32

   \                                 In  segment XDATA_ROM_C, align 1
     88          const uint8 zclSampleDoorLock_DateCode[] = { 16, '2','0','0','6','0','8','3','1',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclSampleDoorLock_DateCode:
   \   000000   10           DB 16
   \   000001   32           DB 50
   \   000002   30           DB 48
   \   000003   30           DB 48
   \   000004   36           DB 54
   \   000005   30           DB 48
   \   000006   38           DB 56
   \   000007   33           DB 51
   \   000008   31           DB 49
   \   000009   20           DB 32
   \   00000A   20           DB 32
   \   00000B   20           DB 32
   \   00000C   20           DB 32
   \   00000D   20           DB 32
   \   00000E   20           DB 32
   \   00000F   20           DB 32
   \   000010   20           DB 32

   \                                 In  segment XDATA_ROM_C, align 1
     89          const uint8 zclSampleDoorLock_PowerSource = POWER_SOURCE_MAINS_1_PHASE;
   \                     zclSampleDoorLock_PowerSource:
   \   000000   01           DB 1
     90          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     91          uint8 zclSampleDoorLock_LocationDescription[17] = { 16, ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
   \                     zclSampleDoorLock_LocationDescription:
   \   000000                DS 17
   \   000011                REQUIRE `?<Initializer for zclSampleDoorLock_LocationDe`
   \   000011                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     92          uint8 zclSampleDoorLock_PhysicalEnvironment = 0;
   \                     zclSampleDoorLock_PhysicalEnvironment:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
     93          uint8 zclSampleDoorLock_DeviceEnable = DEVICE_ENABLED;
   \                     zclSampleDoorLock_DeviceEnable:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zclSampleDoorLock_DeviceEnab`
   \   000001                REQUIRE __INIT_XDATA_I
     94          
     95          // Identify Cluster

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     96          uint16 zclSampleDoorLock_IdentifyTime = 0;
   \                     zclSampleDoorLock_IdentifyTime:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     97          
     98          // On/Off Cluster

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     99          uint8  zclSampleLight_OnOff = LIGHT_OFF;
   \                     zclSampleLight_OnOff:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    100          
    101          /*********************************************************************
    102           * ATTRIBUTE DEFINITIONS - Uses REAL cluster IDs
    103           */

   \                                 In  segment CODE_C, align 1
    104          CONST zclAttrRec_t zclSampleDoorLock_Attrs[SAMPLEDOORLOCK_MAX_ATTRIBUTES] =
   \                     zclSampleDoorLock_Attrs:
   \   000000   0000         DW 0
   \   000002   0300         DW 3
   \   000004   20           DB 32
   \   000005   01           DB 1
   \   000006   ....         DW zclSampleDoorLock_HWRevision
   \   000008   0000         DW 0
   \   00000A   0000         DW 0
   \   00000C   20           DB 32
   \   00000D   01           DB 1
   \   00000E   ....         DW zclSampleDoorLock_ZCLVersion
   \   000010   0000         DW 0
   \   000012   0400         DW 4
   \   000014   42           DB 66
   \   000015   01           DB 1
   \   000016   ....         DW zclSampleDoorLock_ManufacturerName
   \   000018   0000         DW 0
   \   00001A   0500         DW 5
   \   00001C   42           DB 66
   \   00001D   01           DB 1
   \   00001E   ....         DW zclSampleDoorLock_ModelId
   \   000020   0000         DW 0
   \   000022   0600         DW 6
   \   000024   42           DB 66
   \   000025   01           DB 1
   \   000026   ....         DW zclSampleDoorLock_DateCode
   \   000028   0000         DW 0
   \   00002A   0700         DW 7
   \   00002C   20           DB 32
   \   00002D   01           DB 1
   \   00002E   ....         DW zclSampleDoorLock_PowerSource
   \   000030   0000         DW 0
   \   000032   1000         DW 16
   \   000034   42           DB 66
   \   000035   03           DB 3
   \   000036   ....         DW zclSampleDoorLock_LocationDescription
   \   000038   0000         DW 0
   \   00003A   1100         DW 17
   \   00003C   20           DB 32
   \   00003D   03           DB 3
   \   00003E   ....         DW zclSampleDoorLock_PhysicalEnvironment
   \   000040   0000         DW 0
   \   000042   1200         DW 18
   \   000044   10           DB 16
   \   000045   03           DB 3
   \   000046   ....         DW zclSampleDoorLock_DeviceEnable
   \   000048   0300         DW 3
   \   00004A   0000         DW 0
   \   00004C   21           DB 33
   \   00004D   03           DB 3
   \   00004E   ....         DW zclSampleDoorLock_IdentifyTime
   \   000050   0600         DW 6
   \   000052   0000         DW 0
   \   000054   10           DB 16
   \   000055   01           DB 1
   \   000056   ....         DW zclSampleDoorLock_OnOff
   \   000058   0500         DW 5
   \   00005A   0000         DW 0
   \   00005C   20           DB 32
   \   00005D   01           DB 1
   \   00005E   0000         DW 0H
   \   000060   0500         DW 5
   \   000062   0100         DW 1
   \   000064   20           DB 32
   \   000065   01           DB 1
   \   000066   0000         DW 0H
   \   000068   0500         DW 5
   \   00006A   0200         DW 2
   \   00006C   21           DB 33
   \   00006D   01           DB 1
   \   00006E   0000         DW 0H
   \   000070   0500         DW 5
   \   000072   0300         DW 3
   \   000074   10           DB 16
   \   000075   01           DB 1
   \   000076   0000         DW 0H
   \   000078   0101         DW 257
   \   00007A   0000         DW 0
   \   00007C   30           DB 48
   \   00007D   05           DB 5
   \   00007E   ....         DW zclSampleDoorLock_LockState
   \   000080   0101         DW 257
   \   000082   0100         DW 1
   \   000084   30           DB 48
   \   000085   01           DB 1
   \   000086   ....         DW zclSampleDoorLock_LockType
   \   000088   0101         DW 257
   \   00008A   0200         DW 2
   \   00008C   10           DB 16
   \   00008D   01           DB 1
   \   00008E   ....         DW zclSampleDoorLock_ActuatorEnabled
   \   000090   0101         DW 257
   \   000092   3200         DW 50
   \   000094   10           DB 16
   \   000095   01           DB 1
   \   000096   ....         DW zclSampleDoorLock_SendPinOta
   \   000098   0101         DW 257
   \   00009A   3300         DW 51
   \   00009C   10           DB 16
   \   00009D   01           DB 1
   \   00009E   ....         DW zclSampleDoorLock_RequirePinForRfOperation
   \   0000A0   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000A8   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
    105          {
    106            // *** General Basic Cluster Attributes ***
    107            {
    108              ZCL_CLUSTER_ID_GEN_BASIC,             // Cluster IDs - defined in the foundation (ie. zcl.h)
    109              {  // Attribute record
    110                ATTRID_BASIC_HW_VERSION,            // Attribute ID - Found in Cluster Library header (ie. zcl_general.h)
    111                ZCL_DATATYPE_UINT8,                 // Data Type - found in zcl.h
    112                ACCESS_CONTROL_READ,                // Variable access control - found in zcl.h
    113                (void *)&zclSampleDoorLock_HWRevision  // Pointer to attribute variable
    114              }
    115            },
    116            {
    117              ZCL_CLUSTER_ID_GEN_BASIC,
    118              { // Attribute record
    119                ATTRID_BASIC_ZCL_VERSION,
    120                ZCL_DATATYPE_UINT8,
    121                ACCESS_CONTROL_READ,
    122                (void *)&zclSampleDoorLock_ZCLVersion
    123              }
    124            },
    125            {
    126              ZCL_CLUSTER_ID_GEN_BASIC,
    127              { // Attribute record
    128                ATTRID_BASIC_MANUFACTURER_NAME,
    129                ZCL_DATATYPE_CHAR_STR,
    130                ACCESS_CONTROL_READ,
    131                (void *)zclSampleDoorLock_ManufacturerName
    132              }
    133            },
    134            {
    135              ZCL_CLUSTER_ID_GEN_BASIC,
    136              { // Attribute record
    137                ATTRID_BASIC_MODEL_ID,
    138                ZCL_DATATYPE_CHAR_STR,
    139                ACCESS_CONTROL_READ,
    140                (void *)zclSampleDoorLock_ModelId
    141              }
    142            },
    143            {
    144              ZCL_CLUSTER_ID_GEN_BASIC,
    145              { // Attribute record
    146                ATTRID_BASIC_DATE_CODE,
    147                ZCL_DATATYPE_CHAR_STR,
    148                ACCESS_CONTROL_READ,
    149                (void *)zclSampleDoorLock_DateCode
    150              }
    151            },
    152            {
    153              ZCL_CLUSTER_ID_GEN_BASIC,
    154              { // Attribute record
    155                ATTRID_BASIC_POWER_SOURCE,
    156                ZCL_DATATYPE_UINT8,
    157                ACCESS_CONTROL_READ,
    158                (void *)&zclSampleDoorLock_PowerSource
    159              }
    160            },
    161            {
    162              ZCL_CLUSTER_ID_GEN_BASIC,
    163              { // Attribute record
    164                ATTRID_BASIC_LOCATION_DESC,
    165                ZCL_DATATYPE_CHAR_STR,
    166                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    167                (void *)zclSampleDoorLock_LocationDescription
    168              }
    169            },
    170            {
    171              ZCL_CLUSTER_ID_GEN_BASIC,
    172              { // Attribute record
    173                ATTRID_BASIC_PHYSICAL_ENV,
    174                ZCL_DATATYPE_UINT8,
    175                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    176                (void *)&zclSampleDoorLock_PhysicalEnvironment
    177              }
    178            },
    179            {
    180              ZCL_CLUSTER_ID_GEN_BASIC,
    181              { // Attribute record
    182                ATTRID_BASIC_DEVICE_ENABLED,
    183                ZCL_DATATYPE_BOOLEAN,
    184                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    185                (void *)&zclSampleDoorLock_DeviceEnable
    186              }
    187            },
    188          
    189            // *** Identify Cluster Attribute ***
    190            {
    191              ZCL_CLUSTER_ID_GEN_IDENTIFY,
    192              { // Attribute record
    193                ATTRID_IDENTIFY_TIME,
    194                ZCL_DATATYPE_UINT16,
    195                (ACCESS_CONTROL_READ | ACCESS_CONTROL_WRITE),
    196                (void *)&zclSampleDoorLock_IdentifyTime
    197              }
    198            },
    199          
    200            // *** On/Off Cluster Attributes ***
    201            {
    202              ZCL_CLUSTER_ID_GEN_ON_OFF,
    203              { // Attribute record
    204                ATTRID_ON_OFF,
    205                ZCL_DATATYPE_BOOLEAN,
    206                ACCESS_CONTROL_READ,
    207                (void *)&zclSampleDoorLock_OnOff
    208              }
    209            },
    210          
    211              // *** Scene Cluster Attributes ***
    212            {
    213              ZCL_CLUSTER_ID_GEN_SCENES,
    214              { // Attribute record
    215                ATTRID_SCENES_COUNT,
    216                ZCL_DATATYPE_UINT8,
    217                ACCESS_CONTROL_READ,
    218                NULL // Use application's callback to Read this attribute
    219              }
    220            },
    221            {
    222              ZCL_CLUSTER_ID_GEN_SCENES,
    223              { // Attribute record
    224                ATTRID_SCENES_CURRENT_SCENE,
    225                ZCL_DATATYPE_UINT8,
    226                ACCESS_CONTROL_READ,
    227                NULL
    228              }
    229            },
    230            {
    231              ZCL_CLUSTER_ID_GEN_SCENES,
    232              { // Attribute record
    233                ATTRID_SCENES_CURRENT_GROUP,
    234                ZCL_DATATYPE_UINT16,
    235                ACCESS_CONTROL_READ,
    236                NULL
    237              }
    238            },
    239            {
    240              ZCL_CLUSTER_ID_GEN_SCENES,
    241              { // Attribute record
    242                ATTRID_SCENES_SCENE_VALID,
    243                ZCL_DATATYPE_BOOLEAN,
    244                ACCESS_CONTROL_READ,
    245                NULL
    246              }
    247            },
    248            {
    249              ZCL_CLUSTER_ID_CLOSURES_DOOR_LOCK,
    250              { // Attribute record
    251                ATTRID_CLOSURES_LOCK_STATE,
    252                ZCL_DATATYPE_ENUM8,
    253                (ACCESS_CONTROL_READ | ACCESS_REPORTABLE),
    254                (void *)&zclSampleDoorLock_LockState
    255              }
    256            },
    257            {
    258              ZCL_CLUSTER_ID_CLOSURES_DOOR_LOCK,
    259              { // Attribute record
    260                ATTRID_CLOSURES_LOCK_TYPE,
    261                ZCL_DATATYPE_ENUM8,
    262                ACCESS_CONTROL_READ,
    263                (void *)&zclSampleDoorLock_LockType
    264              }
    265            },
    266            {
    267              ZCL_CLUSTER_ID_CLOSURES_DOOR_LOCK,
    268              { // Attribute record
    269                ATTRID_CLOSURES_ACTUATOR_ENABLED,
    270                ZCL_DATATYPE_BOOLEAN,
    271                ACCESS_CONTROL_READ,
    272                (void *)&zclSampleDoorLock_ActuatorEnabled
    273              }
    274            },
    275            {
    276              ZCL_CLUSTER_ID_CLOSURES_DOOR_LOCK,
    277              { // Attribute record
    278                ATTRID_DOORLOCK_SEND_PIN_OTA,
    279                ZCL_DATATYPE_BOOLEAN,
    280                ACCESS_CONTROL_READ,
    281                (void *)&zclSampleDoorLock_SendPinOta
    282              }
    283            },
    284            {
    285              ZCL_CLUSTER_ID_CLOSURES_DOOR_LOCK,
    286              { // Attribute record
    287                ATTRID_DOORLOCK_REQUIRE_PIN_FOR_RF_OPERATION,
    288                ZCL_DATATYPE_BOOLEAN,
    289                ACCESS_CONTROL_READ,
    290                (void *)&zclSampleDoorLock_RequirePinForRfOperation
    291              }
    292            },
    293          };
    294          
    295          /*********************************************************************
    296           * SIMPLE DESCRIPTOR
    297           */
    298          // This is the Cluster ID List and should be filled with Application
    299          // specific cluster IDs.
    300          #define ZCLSAMPLEDOORLOCK_MAX_INCLUSTERS       5

   \                                 In  segment XDATA_ROM_C, align 1
    301          const cId_t zclSampleDoorLock_InClusterList[ZCLSAMPLEDOORLOCK_MAX_INCLUSTERS] =
   \                     zclSampleDoorLock_InClusterList:
   \   000000   0000         DW 0
   \   000002   0300         DW 3
   \   000004   0400         DW 4
   \   000006   0500         DW 5
   \   000008   0101         DW 257
    302          {
    303            ZCL_CLUSTER_ID_GEN_BASIC,
    304            ZCL_CLUSTER_ID_GEN_IDENTIFY,
    305            ZCL_CLUSTER_ID_GEN_GROUPS,
    306            ZCL_CLUSTER_ID_GEN_SCENES,
    307            ZCL_CLUSTER_ID_CLOSURES_DOOR_LOCK
    308          };
    309          
    310          #define ZCLSAMPLEDOORLOCK_MAX_OUTCLUSTERS      1

   \                                 In  segment XDATA_ROM_C, align 1
    311          const cId_t zclSampleDoorLock_OutClusterList[ZCLSAMPLEDOORLOCK_MAX_OUTCLUSTERS] =
   \                     zclSampleDoorLock_OutClusterList:
   \   000000   0A00         DW 10
    312          {
    313            ZCL_CLUSTER_ID_GEN_TIME
    314          };
    315          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    316          SimpleDescriptionFormat_t zclSampleDoorLock_SimpleDesc =
   \                     zclSampleDoorLock_SimpleDesc:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for zclSampleDoorLock_SimpleDesc`
   \   00000C                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleDoorLock_LocationDe`:
   \   000000   10           DB 16
   \   000001   20           DB 32
   \   000002   20           DB 32
   \   000003   20           DB 32
   \   000004   20           DB 32
   \   000005   20           DB 32
   \   000006   20           DB 32
   \   000007   20           DB 32
   \   000008   20           DB 32
   \   000009   20           DB 32
   \   00000A   20           DB 32
   \   00000B   20           DB 32
   \   00000C   20           DB 32
   \   00000D   20           DB 32
   \   00000E   20           DB 32
   \   00000F   20           DB 32
   \   000010   20           DB 32

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleDoorLock_DeviceEnab`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleDoorLock_SimpleDesc`:
   \   000000   08           DB 8
   \   000001   0401         DW 260
   \   000003   0A00         DW 10
   \   000005   00           DB 0
   \   000006   05           DB 5
   \   000007   ....         DW zclSampleDoorLock_InClusterList
   \   000009   01           DB 1
   \   00000A   ....         DW zclSampleDoorLock_OutClusterList
    317          {
    318            SAMPLEDOORLOCK_ENDPOINT,                  //  int Endpoint;
    319            ZCL_HA_PROFILE_ID,                        //  uint16 AppProfId[2];
    320            ZCL_HA_DEVICEID_DOOR_LOCK,                //  uint16 AppDeviceId[2];
    321            SAMPLEDOORLOCK_DEVICE_VERSION,            //  int   AppDevVer:4;
    322            SAMPLEDOORLOCK_FLAGS,                     //  int   AppFlags:4;
    323            ZCLSAMPLEDOORLOCK_MAX_INCLUSTERS,         //  byte  AppNumInClusters;
    324            (cId_t *)zclSampleDoorLock_InClusterList, //  byte *pAppInClusterList;
    325            ZCLSAMPLEDOORLOCK_MAX_OUTCLUSTERS,        //  byte  AppNumInClusters;
    326            (cId_t *)zclSampleDoorLock_OutClusterList //  byte *pAppInClusterList;
    327          };
    328          
    329          /*********************************************************************
    330           * GLOBAL FUNCTIONS
    331           */
    332          
    333          /*********************************************************************
    334           * LOCAL FUNCTIONS
    335           */
    336          
    337          /****************************************************************************
    338          ****************************************************************************/
    339          
    340          


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       1  ?<Initializer for zclSampleDoorLock_DeviceEnab
      17  ?<Initializer for zclSampleDoorLock_LocationDe
      12  ?<Initializer for zclSampleDoorLock_SimpleDesc
     176  zclSampleDoorLock_Attrs
      17  zclSampleDoorLock_DateCode
       1  zclSampleDoorLock_DeviceEnable
       1  zclSampleDoorLock_HWRevision
       2  zclSampleDoorLock_IdentifyTime
      10  zclSampleDoorLock_InClusterList
      17  zclSampleDoorLock_LocationDescription
      17  zclSampleDoorLock_ManufacturerName
      17  zclSampleDoorLock_ModelId
       2  zclSampleDoorLock_OutClusterList
       1  zclSampleDoorLock_PhysicalEnvironment
       1  zclSampleDoorLock_PowerSource
      12  zclSampleDoorLock_SimpleDesc
       1  zclSampleDoorLock_ZCLVersion
       1  zclSampleLight_OnOff

 
 176 bytes in segment CODE_C
  30 bytes in segment XDATA_I
  30 bytes in segment XDATA_ID
  66 bytes in segment XDATA_ROM_C
   4 bytes in segment XDATA_Z
 
 206 bytes of CODE  memory
  66 bytes of CONST memory
  34 bytes of XDATA memory

Errors: none
Warnings: none
