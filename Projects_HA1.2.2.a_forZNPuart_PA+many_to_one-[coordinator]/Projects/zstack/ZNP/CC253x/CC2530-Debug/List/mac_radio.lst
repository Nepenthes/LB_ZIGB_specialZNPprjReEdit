###############################################################################
#
# IAR C/C++ Compiler V10.10.1.4655 for 8051               16/Nov/2018  09:07:19
# Copyright 2004-2017 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Components\mac\low_level\srf04\mac_radio.c
#    Command line       =  
#        -f C:\Users\ADMINI~1\AppData\Local\Temp\EWBC6C.tmp
#        (D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Components\mac\low_level\srf04\mac_radio.c
#        -D FEATURE_SYSTEM_STATS -D xPOWER_SAVING -D xTC_LINKKEY_JOIN -D
#        ZIGBEEPRO -D HAL_KEY=FALSE -D xZTOOL_P1 -lC
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\CC2530-Debug\List
#        -lA
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\CC2530-Debug\List
#        --diag_suppress Pe001,Pa010 -o
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\CC2530-Debug\Obj
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -f
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\Source\znp.cfg
#        (-DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        "-DZSTACK_DEVICE_BUILD=(DEVICE_BUILD_COORDINATOR | DEVICE_BUILD_ROUTER
#        | DEVICE_BUILD_ENDDEVICE)" -DNWK_AUTO_POLL -DZNP_RUN_WDOG=FALSE
#        -DZNP_UART_BAUD=HAL_UART_BR_115200 -DZIGBEEPRO -DZIGBEE_FRAGMENTATION
#        -DINTER_PAN -DOSAL_CLOCK -DOSAL_SAPI=FALSE -DSAPI_CB_FUNC=FALSE
#        -DHOLD_AUTO_START -DNV_RESTORE -DNV_INIT -DNUM_DISC_ATTEMPTS=0
#        -DMT_UTIL_FUNC -DMT_SYS_FUNC -DMT_AF_FUNC -DMT_SAPI_FUNC
#        -DMT_SAPI_CB_FUNC -DMT_ZDO_CB_FUNC -DMT_ZDO_FUNC -DMT_ZDO_MGMT
#        -DMT_ZDO_EXTENSIONS -DMT_APP_FUNC) -f
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\Tools\CC2530DB\f8wConfig.cfg
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFFFF
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
#        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
#        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
#        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
#        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
#        -DREJOIN_POLL_RATE=440 -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000)
#        -f
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\Tools\CC2530DB\f8wZCL.cfg
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\Source\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\Source\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\SE\Source\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\ZMain\TI2530ZNP\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\hal\include\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\hal\target\CC2530ZNP\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\mac\include\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\mac\high_level\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\mac\low_level\srf04\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\mac\low_level\srf04\single_chip\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\mt\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\osal\include\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\services\ecc\binary163\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\services\ecc\binary283\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\services\saddr\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\services\sdata\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\af\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\nwk\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\sapi\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\sec\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\sys\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\zcl\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\stack\zdo\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\zmac\
#        -I
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\..\..\..\..\Components\zmac\f8w\
#        -Ohz --require_prototypes --no_code_motion)
#    Locale             =  Chinese (Simplified)_People's Republic of China.936
#    List file          =  
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\CC2530-Debug\List\mac_radio.lst
#    Object file        =  
#        D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Projects\zstack\ZNP\CC253x\CC2530-Debug\Obj\mac_radio.r51
#
###############################################################################

D:\Software_zigbee\Z-StackPrj_reEdit\Projects_HA1.2.2.a_forZNPuart_PA+many_to_one-[coordinator]\Components\mac\low_level\srf04\mac_radio.c
      1          /**************************************************************************************************
      2            Filename:       mac_radio.c
      3            Revised:        $Date: 2007-09-11 10:58:41 -0700 (Tue, 11 Sep 2007) $
      4            Revision:       $Revision: 15371 $
      5          
      6            Description:    Describe the purpose and contents of the file.
      7          
      8          
      9            Copyright 2006-2014 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /* ------------------------------------------------------------------------------------------------
     41           *                                          Includes
     42           * ------------------------------------------------------------------------------------------------
     43           */
     44          
     45          /* hal */
     46          #include "hal_types.h"
     47          
     48          /* high-level */
     49          #include "mac_pib.h"
     50          
     51          /* exported low-level */
     52          #include "mac_low_level.h"
     53          
     54          /* low-level specific */
     55          #include "mac_radio.h"
     56          #include "mac_tx.h"
     57          #include "mac_rx.h"
     58          #include "mac_rx_onoff.h"
     59          #include "mac_sleep.h"
     60          #include "mac_backoff_timer.h"
     61          
     62          /* target specific */
     63          #include "mac_radio_defs.h"

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1
     64          
     65          /* debug */
     66          #include "mac_assert.h"
     67          
     68          
     69          /* ------------------------------------------------------------------------------------------------
     70           *                                          Includes
     71           * ------------------------------------------------------------------------------------------------
     72           */
     73          #define ED_RF_POWER_MIN_DBM   (MAC_RADIO_RECEIVER_SENSITIVITY_DBM + MAC_SPEC_ED_MIN_DBM_ABOVE_RECEIVER_SENSITIVITY)
     74          #define ED_RF_POWER_MAX_DBM   MAC_RADIO_RECEIVER_SATURATION_DBM
     75          
     76          
     77          /* ------------------------------------------------------------------------------------------------
     78           *                                        Global Variables
     79           * ------------------------------------------------------------------------------------------------
     80           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     81          uint8 macPhyTxPower;
   \                     macPhyTxPower:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     82          uint8 macPhyChannel;
   \                     macPhyChannel:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     83          
     84          
     85          /* ------------------------------------------------------------------------------------------------
     86           *                                        Local Variables
     87           * ------------------------------------------------------------------------------------------------
     88           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     89          static uint8 reqChannel;
   \                     reqChannel:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     90          static uint8 reqTxPower;
   \                     reqTxPower:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     91          
     92          
     93          /* ------------------------------------------------------------------------------------------------
     94           *                                        Local Functions
     95           * ------------------------------------------------------------------------------------------------
     96           */
     97          static uint8 radioComputeED(int8 rssiDbm);
     98          
     99          
    100          /**************************************************************************************************
    101           * @fn          macRadioInit
    102           *
    103           * @brief       Initialize radio software.
    104           *
    105           * @param       none
    106           *
    107           * @return      none
    108           **************************************************************************************************
    109           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    110          MAC_INTERNAL_API void macRadioInit(void)
   \                     macRadioInit:
    111          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    112            /* variable initialization for this module */
    113            reqChannel    = MAC_RADIO_CHANNEL_DEFAULT;
   \   000004   90....       MOV       DPTR,#reqChannel
   \   000007   740B         MOV       A,#0xb
   \   000009   F0           MOVX      @DPTR,A
    114            macPhyChannel = MAC_RADIO_CHANNEL_INVALID;
   \   00000A   90....       MOV       DPTR,#macPhyChannel
   \   00000D   74FF         MOV       A,#-0x1
   \   00000F   F0           MOVX      @DPTR,A
    115            macPhyTxPower = MAC_RADIO_TX_POWER_INVALID;
   \   000010   90....       MOV       DPTR,#macPhyTxPower
   \   000013   F0           MOVX      @DPTR,A
    116            reqTxPower    = MAC_RADIO_TX_POWER_INVALID;
   \   000014   90....       MOV       DPTR,#reqTxPower
   \   000017   80..         SJMP      ??Subroutine2_0
    117          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine2_0:
   \   000000   F0           MOVX      @DPTR,A
   \   000001                REQUIRE ??Subroutine3_0
   \   000001                ; // Fall through to label ??Subroutine3_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine3_0:
   \   000000   D083         POP       DPH
   \   000002   D082         POP       DPL
   \   000004   02....       LJMP      ?BRET
    118          
    119          
    120          /**************************************************************************************************
    121           * @fn          macRadioReset
    122           *
    123           * @brief       Resets the radio module.
    124           *
    125           * @param       none
    126           *
    127           * @return      none
    128           **************************************************************************************************
    129           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    130          MAC_INTERNAL_API void macRadioReset(void)
   \                     macRadioReset:
    131          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    132            macRadioStopScan();
   \   000004                ; Setup parameters for call to function macRadioStopScan
   \   000004   12....       LCALL     `??macRadioStopScan::?relay`; Banked call to: macRadioStopScan
    133            macRadioEnergyDetectStop();
   \   000007                ; Setup parameters for call to function macRadioEnergyDetectStop
   \   000007   12....       LCALL     `??macRadioEnergyDetectStop::?relay`; Banked call to: macRadioEnergyDetectStop
    134          }
   \   00000A   80..         SJMP      ??Subroutine3_0
    135          
    136          
    137          /**************************************************************************************************
    138           * @fn          macRadioRandomByte
    139           *
    140           * @brief       Return a random byte derived from previously set random seed.
    141           *
    142           * @param       none
    143           *
    144           * @return      a random byte
    145           **************************************************************************************************
    146           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    147          MAC_INTERNAL_API uint8 macRadioRandomByte(void)
   \                     macRadioRandomByte:
    148          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    149            return(MAC_RADIO_RANDOM_BYTE());
   \   000004                ; Setup parameters for call to function macMcuRandomByte
   \   000004   12....       LCALL     `??macMcuRandomByte::?relay`; Banked call to: macMcuRandomByte
   \   000007   80..         SJMP      ??Subroutine3_0
    150          }
    151          
    152          
    153          /**************************************************************************************************
    154           * @fn          macRadioSetPanCoordinator
    155           *
    156           * @brief       Configure the pan coordinator status of the radio
    157           *
    158           * @param       panCoordFlag - non-zero to configure radio to be pan coordinator
    159           *                             zero to configure radio as NON pan coordinator
    160           *
    161           * @return      none
    162           **************************************************************************************************
    163           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    164          MAC_INTERNAL_API void macRadioSetPanCoordinator(uint8 panCoordFlag)
   \                     macRadioSetPanCoordinator:
    165          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    166            /* abstracted radio configuration */
    167            MAC_RADIO_SET_PAN_COORDINATOR(panCoordFlag);
   \   000004   906180       MOV       DPTR,#0x6180
   \   000007   E0           MOVX      A,@DPTR
   \   000008   F8           MOV       R0,A
   \   000009   E9           MOV       A,R1
   \   00000A   6004         JZ        ??macRadioSetPanCoordinator_0
   \   00000C   D2F0         SETB      B.0
   \   00000E   8002         SJMP      ??macRadioSetPanCoordinator_1
   \                     ??macRadioSetPanCoordinator_0:
   \   000010   C2F0         CLR       B.0
   \                     ??macRadioSetPanCoordinator_1:
   \   000012   A2F0         MOV       C,B.0
   \   000014   E4           CLR       A
   \   000015   33           RLC       A
   \   000016   33           RLC       A
   \   000017   FA           MOV       R2,A
   \   000018   74FD         MOV       A,#-0x3
   \   00001A   58           ANL       A,R0
   \   00001B   4A           ORL       A,R2
   \   00001C   80..         SJMP      ??Subroutine2_0
    168          }
    169          
    170          
    171          /**************************************************************************************************
    172           * @fn          macRadioSetPanID
    173           *
    174           * @brief       Set the pan ID on the radio.
    175           *
    176           * @param       panID - 16 bit PAN identifier
    177           *
    178           * @return      none
    179           **************************************************************************************************
    180           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   EB           MOV       A,R3
   \   000002   A3           INC       DPTR
   \   000003                REQUIRE ??Subroutine2_0
   \   000003                ; // Fall through to label ??Subroutine2_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    181          void macRadioSetPanID(uint16 panID)
   \                     macRadioSetPanID:
    182          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    183            /* abstracted radio configuration */
    184            MAC_RADIO_SET_PAN_ID(panID);
   \   000004   EA           MOV       A,R2
   \   000005   906172       MOV       DPTR,#0x6172
   \   000008   80..         SJMP      ?Subroutine0
    185          }
    186          
    187          
    188          /**************************************************************************************************
    189           * @fn          macRadioSetShortAddr
    190           *
    191           * @brief       Set the short addrss on the radio.
    192           *
    193           * @param       shortAddr - 16 bit short address
    194           *
    195           * @return      none
    196           **************************************************************************************************
    197           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    198          MAC_INTERNAL_API void macRadioSetShortAddr(uint16 shortAddr)
   \                     macRadioSetShortAddr:
    199          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    200            /* abstracted radio configuration */
    201            MAC_RADIO_SET_SHORT_ADDR(shortAddr);
   \   000004   EA           MOV       A,R2
   \   000005   906174       MOV       DPTR,#0x6174
   \   000008   80..         SJMP      ?Subroutine0
    202          }
    203          
    204          
    205          /**************************************************************************************************
    206           * @fn          macRadioSetIEEEAddr
    207           *
    208           * @brief       Set the IEEE address on the radio.
    209           *
    210           * @param       pIEEEAddr - pointer to array holding 64 bit IEEE address; array must be little
    211           *                          endian format (starts with lowest signficant byte)
    212           *
    213           * @return      none
    214           **************************************************************************************************
    215           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    216          MAC_INTERNAL_API void macRadioSetIEEEAddr(uint8 * pIEEEAddr)
   \                     macRadioSetIEEEAddr:
    217          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004   EA           MOV       A,R2
   \   000005   FC           MOV       R4,A
   \   000006   EB           MOV       A,R3
   \   000007   FD           MOV       R5,A
    218            /* abstracted radio configuration */
    219            MAC_RADIO_SET_IEEE_ADDR(pIEEEAddr);
   \   000008                ; Setup parameters for call to function macMemWriteRam
   \   000008   7908         MOV       R1,#0x8
   \   00000A   7A6A         MOV       R2,#0x6a
   \   00000C   7B61         MOV       R3,#0x61
   \   00000E   12....       LCALL     `??macMemWriteRam::?relay`; Banked call to: macMemWriteRam
    220          }
   \   000011   80..         SJMP      ??Subroutine3_0
    221          
    222          
    223          /**************************************************************************************************
    224           * @fn          macRadioSetTxPower
    225           *
    226           * @brief       Set transmitter power of the radio.
    227           *
    228           * @param       txPower - the minus dBm for power but as a postive integer (or if configured
    229           *                        for it, txPower is the raw register value). If PA/LNA is installed
    230           *                        then txPower becomes positive dBm.
    231           *
    232           * @return      The minus dBm for power actually set according to what is possible according to
    233                          the build and run-time configuration set.
    234           **************************************************************************************************
    235           */
    236          #ifndef HAL_MAC_USE_REGISTER_POWER_VALUES
    237          /* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */
    238          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    239          MAC_INTERNAL_API uint8 macRadioSetTxPower(uint8 txPower)
   \                     macRadioSetTxPower:
    240          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FE           MOV       R6,A
    241            halIntState_t  s;
    242            const uint8 CODE *pTable;
    243          
    244            /* abstracted power table selection */
    245            MAC_RADIO_SELECT_PTABLE(pTable);
   \   000007   907803       MOV       DPTR,#0x7803
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   6495         XRL       A,#0x95
   \   00000D   6005         JZ        ??macRadioSetTxPower_0
   \   00000F   E0           MOVX      A,@DPTR
   \   000010   6434         XRL       A,#0x34
   \   000012   7005         JNZ       ??macRadioSetTxPower_1
   \                     ??macRadioSetTxPower_0:
   \   000014   90....       MOV       DPTR,#macRadioDefsTxPwrTables0x95
   \   000017   8003         SJMP      ??macRadioSetTxPower_2
   \                     ??macRadioSetTxPower_1:
   \   000019   90....       MOV       DPTR,#macRadioDefsTxPwrTables
   \                     ??macRadioSetTxPower_2:
   \   00001C   E4           CLR       A
   \   00001D   93           MOVC      A,@A+DPTR
   \   00001E   F8           MOV       R0,A
   \   00001F   7401         MOV       A,#0x1
   \   000021   93           MOVC      A,@A+DPTR
   \   000022   F9           MOV       R1,A
    246          
    247            /* if the selected dBm is out of range, use the closest available */
    248            if ((int8)txPower > (int8)pTable[MAC_RADIO_DEFS_TBL_TXPWR_FIRST_ENTRY])
   \   000023   8882         MOV       DPL,R0
   \   000025   8983         MOV       DPH,R1
   \   000027   E4           CLR       A
   \   000028   93           MOVC      A,@A+DPTR
   \   000029   C3           CLR       C
   \   00002A   9E           SUBB      A,R6
   \   00002B   A2D2         MOV       C,0xD0 /* PSW */.2
   \   00002D   65D0         XRL       A,PSW
   \   00002F   33           RLC       A
   \   000030   4013         JC        ??macRadioSetTxPower_3
    249            {
    250              /* greater than base value -- out of table range */
    251              txPower = pTable[MAC_RADIO_DEFS_TBL_TXPWR_FIRST_ENTRY];
    252            }
    253            else if ((int8)txPower < (int8)pTable[MAC_RADIO_DEFS_TBL_TXPWR_LAST_ENTRY])
   \   000032   A3           INC       DPTR
   \   000033   E4           CLR       A
   \   000034   93           MOVC      A,@A+DPTR
   \   000035   FA           MOV       R2,A
   \   000036   EE           MOV       A,R6
   \   000037   C3           CLR       C
   \   000038   9A           SUBB      A,R2
   \   000039   A2D2         MOV       C,0xD0 /* PSW */.2
   \   00003B   65D0         XRL       A,PSW
   \   00003D   33           RLC       A
   \   00003E   5008         JNC       ??macRadioSetTxPower_4
    254            {
    255              /* smaller than the lowest power level -- out of table range */
    256              txPower = pTable[MAC_RADIO_DEFS_TBL_TXPWR_LAST_ENTRY];
   \   000040   8882         MOV       DPL,R0
   \   000042   8983         MOV       DPH,R1
   \   000044   A3           INC       DPTR
   \                     ??macRadioSetTxPower_3:
   \   000045   E4           CLR       A
   \   000046   93           MOVC      A,@A+DPTR
   \   000047   FE           MOV       R6,A
    257            }
    258          
    259            /*
    260             *  Set the global variable reqTxPower.  This variable is referenced
    261             *  by the function macRadioUpdateTxPower() to write the radio register.
    262             *
    263             *  A lookup table is used to translate the power level to the register
    264             *  value.
    265             */
    266            HAL_ENTER_CRITICAL_SECTION(s);
   \                     ??macRadioSetTxPower_4:
   \   000048   A2AF         MOV       C,0xa8.7
   \   00004A   E4           CLR       A
   \   00004B   33           RLC       A
   \   00004C   FA           MOV       R2,A
   \   00004D   C2AF         CLR       0xa8.7
    267            /* When calculating index to the power register value table,
    268             * either txPower (of uint8 type) has to be explicitly type-casted to int8
    269             * or the subtraction expression has to be type-casted to uint8 to work
    270             * with the integral promotions.
    271             * The latter is more code size efficient and hence the latter is used.
    272             */
    273            {
    274              uint8 index = pTable[MAC_RADIO_DEFS_TBL_TXPWR_FIRST_ENTRY] - txPower
    275                + MAC_RADIO_DEFS_TBL_TXPWR_ENTRIES;
    276              reqTxPower = pTable[index];
   \   00004F   8882         MOV       DPL,R0
   \   000051   8983         MOV       DPH,R1
   \   000053   E4           CLR       A
   \   000054   93           MOVC      A,@A+DPTR
   \   000055   9E           SUBB      A,R6
   \   000056   2402         ADD       A,#0x2
   \   000058   FC           MOV       R4,A
   \   000059   E8           MOV       A,R0
   \   00005A   2C           ADD       A,R4
   \   00005B   F582         MOV       DPL,A
   \   00005D   E4           CLR       A
   \   00005E   39           ADDC      A,R1
   \   00005F   F583         MOV       DPH,A
   \   000061   E4           CLR       A
   \   000062   93           MOVC      A,@A+DPTR
   \   000063   90....       MOV       DPTR,#reqTxPower
   \   000066   F0           MOVX      @DPTR,A
    277          
    278              /* abstracted boost mode selection */
    279              MAC_RADIO_SELECT_BOOST_MODE(reqTxPower);
   \   000067   907803       MOV       DPTR,#0x7803
   \   00006A   E0           MOVX      A,@DPTR
   \   00006B   6495         XRL       A,#0x95
   \   00006D   6005         JZ        ??macRadioSetTxPower_5
   \   00006F   E0           MOVX      A,@DPTR
   \   000070   6434         XRL       A,#0x34
   \   000072   7011         JNZ       ??macRadioSetTxPower_6
   \                     ??macRadioSetTxPower_5:
   \   000074   90....       MOV       DPTR,#reqTxPower
   \   000077   E0           MOVX      A,@DPTR
   \   000078   64FD         XRL       A,#0xfd
   \   00007A   90....       MOV       DPTR,#reqTxBoost
   \   00007D   7004         JNZ       ??macRadioSetTxPower_7
   \   00007F   7401         MOV       A,#0x1
   \   000081   8001         SJMP      ??macRadioSetTxPower_8
   \                     ??macRadioSetTxPower_7:
   \   000083   E4           CLR       A
   \                     ??macRadioSetTxPower_8:
   \   000084   F0           MOVX      @DPTR,A
    280            }
    281            HAL_EXIT_CRITICAL_SECTION(s);
   \                     ??macRadioSetTxPower_6:
   \   000085   EA           MOV       A,R2
   \   000086   A2E0         MOV       C,0xE0 /* A   */.0
   \   000088   92AF         MOV       0xa8.7,C
    282          
    283            /* update the radio power setting */
    284            macRadioUpdateTxPower();
   \   00008A                ; Setup parameters for call to function macRadioUpdateTxPower
   \   00008A   12....       LCALL     `??macRadioUpdateTxPower::?relay`; Banked call to: macRadioUpdateTxPower
    285          
    286            return txPower;
   \   00008D   EE           MOV       A,R6
   \   00008E   02....       LJMP      ?Subroutine1 & 0xFFFF
   \   000091                REQUIRE _A_IEN0
    287          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   F9           MOV       R1,A
   \   000001                REQUIRE ??Subroutine4_0
   \   000001                ; // Fall through to label ??Subroutine4_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine4_0:
   \   000000   7F01         MOV       R7,#0x1
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
    288          
    289          #else
    290          /* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */
    291          
    292          MAC_INTERNAL_API uint8 macRadioSetTxPower(uint8 txPower)
    293          {
    294            halIntState_t  s;
    295          
    296            /* same as above but with no lookup table, use raw register value */
    297            HAL_ENTER_CRITICAL_SECTION(s);
    298            reqTxPower = txPower;
    299            MAC_RADIO_SELECT_BOOST_MODE(reqTxPower);
    300            HAL_EXIT_CRITICAL_SECTION(s);
    301          
    302            /* update the radio power setting */
    303            macRadioUpdateTxPower();
    304          
    305            return txPower;
    306          }
    307          
    308          #endif
    309          
    310          
    311          /**************************************************************************************************
    312           * @fn          macRadioUpdateTxPower
    313           *
    314           * @brief       Update the radio's transmit power if a new power level has been requested
    315           *
    316           * @param       reqTxPower - file scope variable that holds the last request power level
    317           *              macPhyTxPower - global variable that holds radio's set power level
    318           *
    319           * @return      none
    320           **************************************************************************************************
    321           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    322          MAC_INTERNAL_API void macRadioUpdateTxPower(void)
   \                     macRadioUpdateTxPower:
    323          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    324            halIntState_t  s;
    325          
    326            /*
    327             *  If the requested power setting is different from the actual radio setting,
    328             *  attempt to udpate to the new power setting.
    329             */
    330            HAL_ENTER_CRITICAL_SECTION(s);
   \   000004   A2AF         MOV       C,0xa8.7
   \   000006   E4           CLR       A
   \   000007   33           RLC       A
   \   000008   F8           MOV       R0,A
   \   000009   C2AF         CLR       0xa8.7
    331            if (reqTxPower != macPhyTxPower)
   \   00000B   90....       MOV       DPTR,#reqTxPower
   \   00000E   E0           MOVX      A,@DPTR
   \   00000F   F9           MOV       R1,A
   \   000010   90....       MOV       DPTR,#macPhyTxPower
   \   000013   E0           MOVX      A,@DPTR
   \   000014   69           XRL       A,R1
   \   000015   604E         JZ        ??macRadioUpdateTxPower_0
    332            {
    333              /*
    334               *  Radio power cannot be updated when the radio is physically transmitting.
    335               *  If there is a possibility radio is transmitting, do not change the power
    336               *  setting.  This function will be called again after the current transmit
    337               *  completes.
    338               */
    339              if (!macRxOutgoingAckFlag && !MAC_TX_IS_PHYSICALLY_ACTIVE())
   \   000017   90....       MOV       DPTR,#macRxOutgoingAckFlag
   \   00001A   E0           MOVX      A,@DPTR
   \   00001B   7048         JNZ       ??macRadioUpdateTxPower_0
   \   00001D   90....       MOV       DPTR,#macTxActive
   \   000020   E0           MOVX      A,@DPTR
   \   000021   A2E7         MOV       C,0xE0 /* A   */.7
   \   000023   4040         JC        ??macRadioUpdateTxPower_0
    340              {
    341                /*
    342                 *  Set new power level;  update the shadow value and write
    343                 *  the new value to the radio hardware.
    344                 */
    345          	  reqTxPower = 0xF5;
   \   000025   90....       MOV       DPTR,#reqTxPower
   \   000028   74F5         MOV       A,#-0xb
   \   00002A   F0           MOVX      @DPTR,A
    346                macPhyTxPower = reqTxPower;
   \   00002B   90....       MOV       DPTR,#macPhyTxPower
   \   00002E   F0           MOVX      @DPTR,A
    347                MAC_RADIO_SET_TX_POWER(macPhyTxPower);
   \   00002F   907803       MOV       DPTR,#0x7803
   \   000032   E0           MOVX      A,@DPTR
   \   000033   6495         XRL       A,#0x95
   \   000035   6005         JZ        ??macRadioUpdateTxPower_1
   \   000037   E0           MOVX      A,@DPTR
   \   000038   6434         XRL       A,#0x34
   \   00003A   7023         JNZ       ??macRadioUpdateTxPower_2
   \                     ??macRadioUpdateTxPower_1:
   \   00003C   906190       MOV       DPTR,#0x6190
   \   00003F   74F5         MOV       A,#-0xb
   \   000041   F0           MOVX      @DPTR,A
   \   000042   90....       MOV       DPTR,#reqTxBoost
   \   000045   E0           MOVX      A,@DPTR
   \   000046   9061AC       MOV       DPTR,#0x61ac
   \   000049   600A         JZ        ??macRadioUpdateTxPower_3
   \   00004B   74F5         MOV       A,#-0xb
   \   00004D   F0           MOVX      @DPTR,A
   \   00004E   906191       MOV       DPTR,#0x6191
   \   000051   7474         MOV       A,#0x74
   \   000053   800F         SJMP      ??macRadioUpdateTxPower_4
   \                     ??macRadioUpdateTxPower_3:
   \   000055   7455         MOV       A,#0x55
   \   000057   F0           MOVX      @DPTR,A
   \   000058   906191       MOV       DPTR,#0x6191
   \   00005B   7469         MOV       A,#0x69
   \   00005D   8005         SJMP      ??macRadioUpdateTxPower_4
   \                     ??macRadioUpdateTxPower_2:
   \   00005F   906190       MOV       DPTR,#0x6190
   \   000062   74F5         MOV       A,#-0xb
   \                     ??macRadioUpdateTxPower_4:
   \   000064   F0           MOVX      @DPTR,A
    348              }
    349            }
    350            HAL_EXIT_CRITICAL_SECTION(s);
   \                     ??macRadioUpdateTxPower_0:
   \   000065   E8           MOV       A,R0
   \   000066   A2E0         MOV       C,0xE0 /* A   */.0
   \   000068   92AF         MOV       0xa8.7,C
    351          }
   \   00006A   02....       LJMP      ??Subroutine3_0 & 0xFFFF
   \   00006D                REQUIRE _A_IEN0
    352          
    353          
    354          /**************************************************************************************************
    355           * @fn          macRadioSetChannel
    356           *
    357           * @brief       Set radio channel.
    358           *
    359           * @param       channel - channel number, valid range is 11 through 26. Allow
    360           *              channels 27 and 28 for some Japanese customers.
    361           *
    362           * @return      none
    363           **************************************************************************************************
    364           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    365          MAC_INTERNAL_API void macRadioSetChannel(uint8 channel)
   \                     macRadioSetChannel:
    366          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FF           MOV       R7,A
    367            halIntState_t  s;
    368          
    369            MAC_ASSERT((channel >= 11) && (channel <= 29));  /* illegal channel */
   \   000007   74F5         MOV       A,#-0xb
   \   000009   29           ADD       A,R1
   \   00000A   C3           CLR       C
   \   00000B   9413         SUBB      A,#0x13
   \   00000D   4003         JC        ??macRadioSetChannel_0
   \   00000F                ; Setup parameters for call to function halAssertHandler
   \   00000F   12....       LCALL     `??halAssertHandler::?relay`; Banked call to: halAssertHandler
    370          
    371            /* critical section to make sure transmit does not start while updating channel */
    372            HAL_ENTER_CRITICAL_SECTION(s);
   \                     ??macRadioSetChannel_0:
   \   000012   A2AF         MOV       C,0xa8.7
   \   000014   E4           CLR       A
   \   000015   33           RLC       A
   \   000016   FE           MOV       R6,A
   \   000017   C2AF         CLR       0xa8.7
    373          
    374            /* set requested channel */
    375            reqChannel = channel;
   \   000019   EF           MOV       A,R7
   \   00001A   90....       MOV       DPTR,#reqChannel
   \   00001D   F0           MOVX      @DPTR,A
    376          
    377            /*
    378             *  If transmit is not active, update the radio hardware immediately.  If transmit is active,
    379             *  the channel will be updated at the end of the current transmit.
    380             */
    381            if (!macTxActive)
   \   00001E   90....       MOV       DPTR,#macTxActive
   \   000021   E0           MOVX      A,@DPTR
   \   000022   7003         JNZ       ??macRadioSetChannel_1
    382            {
    383              macRadioUpdateChannel();
   \   000024                ; Setup parameters for call to function macRadioUpdateChannel
   \   000024   12....       LCALL     `??macRadioUpdateChannel::?relay`; Banked call to: macRadioUpdateChannel
    384            }
    385          
    386            HAL_EXIT_CRITICAL_SECTION(s);
   \                     ??macRadioSetChannel_1:
   \   000027   EE           MOV       A,R6
   \   000028   A2E0         MOV       C,0xE0 /* A   */.0
   \   00002A   92AF         MOV       0xa8.7,C
    387          }
   \   00002C   80..         SJMP      ??Subroutine4_0
   \   00002E                REQUIRE _A_IEN0
    388          
    389          
    390          /**************************************************************************************************
    391           * @fn          macRadioUpdateChannel
    392           *
    393           * @brief       Update the radio channel if a new channel has been requested.
    394           *
    395           * @param       none
    396           *
    397           * @return      none
    398           **************************************************************************************************
    399           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    400          MAC_INTERNAL_API void macRadioUpdateChannel(void)
   \                     macRadioUpdateChannel:
    401          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    402            halIntState_t  s;
    403          
    404            MAC_ASSERT(!macTxActive); /* cannot change channel during a transmit */
   \   000004   90....       MOV       DPTR,#macTxActive
   \   000007   E0           MOVX      A,@DPTR
   \   000008   6003         JZ        ??macRadioUpdateChannel_0
   \   00000A                ; Setup parameters for call to function halAssertHandler
   \   00000A   12....       LCALL     `??halAssertHandler::?relay`; Banked call to: halAssertHandler
    405          
    406            /* if the channel has changed, set the radio to the new channel */
    407            HAL_ENTER_CRITICAL_SECTION(s);
   \                     ??macRadioUpdateChannel_0:
   \   00000D   A2AF         MOV       C,0xa8.7
   \   00000F   E4           CLR       A
   \   000010   33           RLC       A
   \   000011   F8           MOV       R0,A
   \   000012   C2AF         CLR       0xa8.7
    408            if (reqChannel != macPhyChannel)
   \   000014   90....       MOV       DPTR,#reqChannel
   \   000017   E0           MOVX      A,@DPTR
   \   000018   F9           MOV       R1,A
   \   000019   90....       MOV       DPTR,#macPhyChannel
   \   00001C   E0           MOVX      A,@DPTR
   \   00001D   69           XRL       A,R1
   \   00001E   6026         JZ        ??macRadioUpdateChannel_1
    409            {
    410              macPhyChannel = reqChannel;
   \   000020   90....       MOV       DPTR,#reqChannel
   \   000023   E0           MOVX      A,@DPTR
   \   000024   90....       MOV       DPTR,#macPhyChannel
   \   000027   F0           MOVX      @DPTR,A
    411              HAL_EXIT_CRITICAL_SECTION(s);
   \   000028   E8           MOV       A,R0
   \   000029   A2E0         MOV       C,0xE0 /* A   */.0
   \   00002B   92AF         MOV       0xa8.7,C
    412          
    413              /* changing the channel stops any receive in progress */
    414              macRxOff();
   \   00002D                ; Setup parameters for call to function macRxOff
   \   00002D   12....       LCALL     `??macRxOff::?relay`; Banked call to: macRxOff
    415              MAC_RADIO_SET_CHANNEL(macPhyChannel);
   \   000030   75F005       MOV       B,#0x5
   \   000033   90....       MOV       DPTR,#macPhyChannel
   \   000036   E0           MOVX      A,@DPTR
   \   000037   A4           MUL       AB
   \   000038   24D4         ADD       A,#-0x2c
   \   00003A   90618F       MOV       DPTR,#0x618f
   \   00003D   F0           MOVX      @DPTR,A
    416          
    417              /* If the channel is updated in the middle of receiving a frame, we must
    418               * clean up the Rx logic.
    419               */
    420              macRxHaltCleanup();
   \   00003E                ; Setup parameters for call to function macRxHaltCleanup
   \   00003E   12....       LCALL     `??macRxHaltCleanup::?relay`; Banked call to: macRxHaltCleanup
    421          
    422              macRxOnRequest();
   \   000041                ; Setup parameters for call to function macRxOnRequest
   \   000041   12....       LCALL     `??macRxOnRequest::?relay`; Banked call to: macRxOnRequest
   \   000044   8005         SJMP      ??macRadioUpdateChannel_2
    423            }
    424            else
    425            {
    426              HAL_EXIT_CRITICAL_SECTION(s);
   \                     ??macRadioUpdateChannel_1:
   \   000046   E8           MOV       A,R0
   \   000047   A2E0         MOV       C,0xE0 /* A   */.0
   \   000049   92AF         MOV       0xa8.7,C
    427            }
    428          }
   \                     ??macRadioUpdateChannel_2:
   \   00004B   02....       LJMP      ??Subroutine3_0 & 0xFFFF
   \   00004E                REQUIRE _A_IEN0
    429          
    430          
    431          /**************************************************************************************************
    432           * @fn          macRadioStartScan
    433           *
    434           * @brief       Puts radio into selected scan mode.
    435           *
    436           * @param       scanMode - scan mode, see #defines in .h file
    437           *
    438           * @return      none
    439           **************************************************************************************************
    440           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    441          MAC_INTERNAL_API void macRadioStartScan(uint8 scanMode)
   \                     macRadioStartScan:
    442          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FE           MOV       R6,A
    443            MAC_ASSERT(macSleepState == MAC_SLEEP_STATE_AWAKE); /* radio must be awake */
   \   000007   90....       MOV       DPTR,#macSleepState
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   6003         JZ        ??macRadioStartScan_0
   \   00000D                ; Setup parameters for call to function halAssertHandler
   \   00000D   12....       LCALL     `??halAssertHandler::?relay`; Banked call to: halAssertHandler
    444            MAC_ASSERT(macRxFilter == RX_FILTER_OFF); /* all filtering must be off to start scan */
   \                     ??macRadioStartScan_0:
   \   000010   90....       MOV       DPTR,#macRxFilter
   \   000013   E0           MOVX      A,@DPTR
   \   000014   6003         JZ        ??macRadioStartScan_1
   \   000016                ; Setup parameters for call to function halAssertHandler
   \   000016   12....       LCALL     `??halAssertHandler::?relay`; Banked call to: halAssertHandler
    445          
    446            /* set the receive filter based on the selected scan mode */
    447            if (scanMode == MAC_SCAN_ED)
   \                     ??macRadioStartScan_1:
   \   000019   EE           MOV       A,R6
   \   00001A   7007         JNZ       ??macRadioStartScan_2
    448            {
    449              macRxFilter = RX_FILTER_ALL;
   \   00001C   90....       MOV       DPTR,#macRxFilter
   \   00001F   7401         MOV       A,#0x1
   \   000021   8026         SJMP      ??macRadioStartScan_3
    450            }
    451            else if (scanMode == MAC_SCAN_ORPHAN)
   \                     ??macRadioStartScan_2:
   \   000023   7403         MOV       A,#0x3
   \   000025   6E           XRL       A,R6
   \   000026   7007         JNZ       ??macRadioStartScan_4
    452            {
    453              macRxFilter = RX_FILTER_NON_COMMAND_FRAMES;
   \   000028   90....       MOV       DPTR,#macRxFilter
   \   00002B   7403         MOV       A,#0x3
   \   00002D   801A         SJMP      ??macRadioStartScan_3
    454            }
    455            else
    456            {
    457          #ifdef FEATURE_ENHANCED_BEACON
    458              MAC_ASSERT((scanMode == MAC_SCAN_ACTIVE_ENHANCED) || (scanMode == MAC_SCAN_ACTIVE) ||
    459                         (scanMode == MAC_SCAN_PASSIVE)); /* invalid scan type */
    460          #else
    461              MAC_ASSERT((scanMode == MAC_SCAN_ACTIVE) ||
    462                         (scanMode == MAC_SCAN_PASSIVE)); /* invalid scan type */
   \                     ??macRadioStartScan_4:
   \   00002F   7401         MOV       A,#0x1
   \   000031   6E           XRL       A,R6
   \   000032   6008         JZ        ??macRadioStartScan_5
   \   000034   7402         MOV       A,#0x2
   \   000036   6E           XRL       A,R6
   \   000037   6003         JZ        ??macRadioStartScan_5
   \   000039                ; Setup parameters for call to function halAssertHandler
   \   000039   12....       LCALL     `??halAssertHandler::?relay`; Banked call to: halAssertHandler
    463          #endif
    464              macRxFilter = RX_FILTER_NON_BEACON_FRAMES;
   \                     ??macRadioStartScan_5:
   \   00003C   90....       MOV       DPTR,#macRxFilter
   \   00003F   7402         MOV       A,#0x2
   \   000041   F0           MOVX      @DPTR,A
    465          
    466              /* for active and passive scans, per spec the pan ID must be 0xFFFF */
    467              MAC_RADIO_SET_PAN_ID(0xFFFF);
   \   000042   906172       MOV       DPTR,#0x6172
   \   000045   74FF         MOV       A,#-0x1
   \   000047   F0           MOVX      @DPTR,A
   \   000048   A3           INC       DPTR
   \                     ??macRadioStartScan_3:
   \   000049   F0           MOVX      @DPTR,A
    468            }
    469          }
   \   00004A   02....       LJMP      ??Subroutine4_0 & 0xFFFF
    470          
    471          
    472          /**************************************************************************************************
    473           * @fn          macRadioStopScan
    474           *
    475           * @brief       Takes radio out of scan mode.  Note can be called if
    476           *
    477           * @param       none
    478           *
    479           * @return      none
    480           **************************************************************************************************
    481           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    482          MAC_INTERNAL_API void macRadioStopScan(void)
   \                     macRadioStopScan:
    483          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    484            macRxFilter = RX_FILTER_OFF;
   \   000004   90....       MOV       DPTR,#macRxFilter
   \   000007   E4           CLR       A
   \   000008   F0           MOVX      @DPTR,A
    485          
    486            /* restore the pan ID (passive and active scans set pan ID to 0xFFFF) */
    487            MAC_RADIO_SET_PAN_ID(pMacPib->panId);
   \   000009   90....       MOV       DPTR,#macPib + 29
   \   00000C   E0           MOVX      A,@DPTR
   \   00000D   906172       MOV       DPTR,#0x6172
   \   000010   F0           MOVX      @DPTR,A
   \   000011   90....       MOV       DPTR,#macPib + 30
   \   000014   E0           MOVX      A,@DPTR
   \   000015   906173       MOV       DPTR,#0x6173
   \   000018   02....       LJMP      ??Subroutine2_0 & 0xFFFF
    488          }
    489          
    490          
    491          /**************************************************************************************************
    492           * @fn          macRadioEnergyDetectStart
    493           *
    494           * @brief       Initiates energy detect.  The highest energy detected is recorded from the time
    495           *              when this function is called until the energy detect is stopped.
    496           *
    497           * @param       none
    498           *
    499           * @return      none
    500           **************************************************************************************************
    501           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    502          void macRadioEnergyDetectStart(void)
   \                     macRadioEnergyDetectStart:
    503          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    504            MAC_RADIO_RECORD_MAX_RSSI_START();
   \   000004                ; Setup parameters for call to function macMcuRecordMaxRssiStart
   \   000004   12....       LCALL     `??macMcuRecordMaxRssiStart::?relay`; Banked call to: macMcuRecordMaxRssiStart
    505          }
   \   000007   02....       LJMP      ??Subroutine3_0 & 0xFFFF
    506          
    507          
    508          /**************************************************************************************************
    509           * @fn          macRadioEnergyDetectStop
    510           *
    511           * @brief       Called at completion of an energy detect.  Note: can be called even if energy
    512           *              detect is already stopped (needed by reset).
    513           *
    514           * @param       none
    515           *
    516           * @return      highest energy detect measurement
    517           **************************************************************************************************
    518           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    519          uint8 macRadioEnergyDetectStop(void)
   \                     macRadioEnergyDetectStop:
    520          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    521            uint8 rssiDbm;
    522            uint8 energyDetectMeasurement;
    523          
    524            rssiDbm = MAC_RADIO_RECORD_MAX_RSSI_STOP() + MAC_RADIO_RSSI_OFFSET;
   \   000004                ; Setup parameters for call to function macMcuRecordMaxRssiStop
   \   000004   12....       LCALL     `??macMcuRecordMaxRssiStop::?relay`; Banked call to: macMcuRecordMaxRssiStop
   \   000007   E9           MOV       A,R1
   \   000008   FA           MOV       R2,A
    525            MAC_RADIO_RSSI_LNA_OFFSET(rssiDbm);
    526            energyDetectMeasurement = radioComputeED(rssiDbm);
    527          
    528            return(energyDetectMeasurement);
   \   000009                ; Setup parameters for call to function radioComputeED
   \   000009   90....       MOV       DPTR,#macRadioDefsRefTableId
   \   00000C   E0           MOVX      A,@DPTR
   \   00000D   540F         ANL       A,#0xf
   \   00000F   F8           MOV       R0,A
   \   000010   74..         MOV       A,#macRadioDefsRssiAdj & 0xff
   \   000012   28           ADD       A,R0
   \   000013   F582         MOV       DPL,A
   \   000015   E4           CLR       A
   \   000016   34..         ADDC      A,#(macRadioDefsRssiAdj >> 8) & 0xff
   \   000018   F583         MOV       DPH,A
   \   00001A   E4           CLR       A
   \   00001B   93           MOVC      A,@A+DPTR
   \   00001C   29           ADD       A,R1
   \   00001D   24B7         ADD       A,#-0x49
   \   00001F   F9           MOV       R1,A
   \   000020   12....       LCALL     `??radioComputeED::?relay`; Banked call to: radioComputeED
   \   000023   02....       LJMP      ??Subroutine3_0 & 0xFFFF
    529          }
    530          
    531          /*=================================================================================================
    532           * @fn          radioComputeED
    533           *
    534           * @brief       Compute energy detect measurement.
    535           *
    536           * @param       rssi - raw RSSI value from radio hardware
    537           *
    538           * @return      energy detect measurement in the range of 0x00-0xFF
    539           *=================================================================================================
    540           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    541          static uint8 radioComputeED(int8 rssiDbm)
   \                     radioComputeED:
    542          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FE           MOV       R6,A
    543            uint8 ed;
    544            int8 min, max;
    545          
    546            /*
    547             *  Keep RF power between minimum and maximum values.
    548             *  This min/max range is derived from datasheet and specification.
    549             */
    550            
    551            min = ED_RF_POWER_MIN_DBM;
    552            MAC_RADIO_SENSITIVITY_OFFSET(min);
   \   000007   90....       MOV       DPTR,#macRadioDefsSensitivityAdj
   \   00000A   E4           CLR       A
   \   00000B   93           MOVC      A,@A+DPTR
   \   00000C   24A9         ADD       A,#-0x57
   \   00000E   F8           MOV       R0,A
    553            max = ED_RF_POWER_MAX_DBM;
    554            MAC_RADIO_SATURATION_OFFSET(max);
   \   00000F   90....       MOV       DPTR,#macRadioDefsSaturationAdj
   \   000012   E4           CLR       A
   \   000013   93           MOVC      A,@A+DPTR
   \   000014   240A         ADD       A,#0xa
   \   000016   FC           MOV       R4,A
    555            if (rssiDbm < min)
   \   000017   EE           MOV       A,R6
   \   000018   C3           CLR       C
   \   000019   98           SUBB      A,R0
   \   00001A   A2D2         MOV       C,0xD0 /* PSW */.2
   \   00001C   65D0         XRL       A,PSW
   \   00001E   33           RLC       A
   \   00001F   5003         JNC       ??radioComputeED_0
    556            {
    557              rssiDbm = min;
   \   000021   E8           MOV       A,R0
   \   000022   800B         SJMP      ??radioComputeED_1
    558            }
    559            else if (rssiDbm > max)
   \                     ??radioComputeED_0:
   \   000024   EC           MOV       A,R4
   \   000025   C3           CLR       C
   \   000026   9E           SUBB      A,R6
   \   000027   A2D2         MOV       C,0xD0 /* PSW */.2
   \   000029   65D0         XRL       A,PSW
   \   00002B   33           RLC       A
   \   00002C   5002         JNC       ??radioComputeED_2
    560            {
    561              rssiDbm = max;
   \   00002E   EC           MOV       A,R4
   \                     ??radioComputeED_1:
   \   00002F   FE           MOV       R6,A
    562            }
    563          
    564            /*
    565             *  Create energy detect measurement by normalizing and scaling RF power level.
    566             *
    567             *  Note : The division operation below is designed for maximum accuracy and
    568             *         best granularity.  This is done by grouping the math operations to
    569             *         compute the entire numerator before doing any division.
    570             */
    571            ed = (MAC_SPEC_ED_MAX * (rssiDbm - min)) / (max - min);
    572          
    573            return(ed);
   \                     ??radioComputeED_2:
   \   000030   E8           MOV       A,R0
   \   000031   FA           MOV       R2,A
   \   000032   33           RLC       A
   \   000033   95E0         SUBB      A,0xE0 /* A   */
   \   000035   FB           MOV       R3,A
   \   000036   EE           MOV       A,R6
   \   000037   F8           MOV       R0,A
   \   000038   33           RLC       A
   \   000039   95E0         SUBB      A,0xE0 /* A   */
   \   00003B   F9           MOV       R1,A
   \   00003C   E8           MOV       A,R0
   \   00003D   C3           CLR       C
   \   00003E   9A           SUBB      A,R2
   \   00003F   F8           MOV       R0,A
   \   000040   E9           MOV       A,R1
   \   000041   9B           SUBB      A,R3
   \   000042   F9           MOV       R1,A
   \   000043   E8           MOV       A,R0
   \   000044   75F0FF       MOV       B,#-0x1
   \   000047   A4           MUL       AB
   \   000048   F8           MOV       R0,A
   \   000049   ADF0         MOV       R5,B
   \   00004B   75F0FF       MOV       B,#-0x1
   \   00004E   E9           MOV       A,R1
   \   00004F   A4           MUL       AB
   \   000050   2D           ADD       A,R5
   \   000051   F9           MOV       R1,A
   \   000052   EC           MOV       A,R4
   \   000053   33           RLC       A
   \   000054   95E0         SUBB      A,0xE0 /* A   */
   \   000056   FD           MOV       R5,A
   \   000057   EC           MOV       A,R4
   \   000058   C3           CLR       C
   \   000059   9A           SUBB      A,R2
   \   00005A   FA           MOV       R2,A
   \   00005B   ED           MOV       A,R5
   \   00005C   9B           SUBB      A,R3
   \   00005D   FB           MOV       R3,A
   \   00005E   12....       LCALL     ?S_DIV_MOD
   \   000061   E8           MOV       A,R0
   \   000062   02....       LJMP      ?Subroutine1 & 0xFFFF
    574          }
    575          
    576          
    577          /**************************************************************************************************
    578           * @fn          macRadioComputeLQI
    579           *
    580           * @brief       Compute link quality indication.
    581           *
    582           * @param       rssi - raw RSSI value from radio hardware
    583           *              corr - correlation value from radio hardware
    584           *
    585           * @return      link quality indicator value
    586           **************************************************************************************************
    587           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    588          MAC_INTERNAL_API uint8 macRadioComputeLQI(int8 rssiDbm, uint8 corr)
   \                     macRadioComputeLQI:
    589          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    590            (void) corr; /* suppress compiler warning of unused parameter */
    591          
    592            /*
    593             *  Note : Currently the LQI value is simply the energy detect measurement.
    594             *         A more accurate value could be derived by using the correlation
    595             *         value along with the RSSI value.
    596             */
    597            return(radioComputeED(rssiDbm));
   \   000005                ; Setup parameters for call to function radioComputeED
   \   000005   12....       LCALL     `??radioComputeED::?relay`; Banked call to: radioComputeED
   \   000008   02....       LJMP      ??Subroutine4_0 & 0xFFFF
    598          }

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioInit::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioInit

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioReset::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioReset

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioRandomByte::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioRandomByte

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioSetPanCoordinator::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioSetPanCoordinator

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioSetPanID::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioSetPanID

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioSetShortAddr::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioSetShortAddr

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioSetIEEEAddr::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioSetIEEEAddr

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioSetTxPower::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioSetTxPower

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioUpdateTxPower::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioUpdateTxPower

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioSetChannel::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioSetChannel

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioUpdateChannel::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioUpdateChannel

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioStartScan::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioStartScan

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioStopScan::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioStopScan

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioEnergyDetectStart::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioEnergyDetectStart

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioEnergyDetectStop::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioEnergyDetectStop

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??radioComputeED::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    radioComputeED

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??macRadioComputeLQI::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    macRadioComputeLQI
    599          
    600          
    601          /**************************************************************************************************
    602          */

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      0      9   macRadioComputeLQI
        0      9   -> radioComputeED
      2      0   macRadioEnergyDetectStart
        2      0   -> macMcuRecordMaxRssiStart
      2      0   macRadioEnergyDetectStop
        2      0   -> macMcuRecordMaxRssiStop
        2      0   -> radioComputeED
      2      0   macRadioInit
      2      0   macRadioRandomByte
        2      0   -> macMcuRandomByte
      2      0   macRadioReset
        2      0   -> macRadioEnergyDetectStop
        2      0   -> macRadioStopScan
      0      9   macRadioSetChannel
        0      9   -> halAssertHandler
        0      9   -> macRadioUpdateChannel
      2      0   macRadioSetIEEEAddr
        2      0   -> macMemWriteRam
      2      0   macRadioSetPanCoordinator
      2      0   macRadioSetPanID
      2      0   macRadioSetShortAddr
      0      9   macRadioSetTxPower
        0      9   -> macRadioUpdateTxPower
      0      9   macRadioStartScan
        0      9   -> halAssertHandler
      2      0   macRadioStopScan
      2      9   macRadioUpdateChannel
        2      0   -> halAssertHandler
        2      0   -> macRxHaltCleanup
        2      0   -> macRxOff
        2      0   -> macRxOnRequest
      2      9   macRadioUpdateTxPower
      0     18   radioComputeED


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       1  ??Subroutine2_0
       7  ??Subroutine3_0
       5  ??Subroutine4_0
       3  ?Subroutine0
       1  ?Subroutine1
       1  _A_IEN0
       1  macPhyChannel
       1  macPhyTxPower
      11  macRadioComputeLQI
       6  macRadioComputeLQI::?relay
      10  macRadioEnergyDetectStart
       6  macRadioEnergyDetectStart::?relay
      38  macRadioEnergyDetectStop
       6  macRadioEnergyDetectStop::?relay
      25  macRadioInit
       6  macRadioInit::?relay
       9  macRadioRandomByte
       6  macRadioRandomByte::?relay
      12  macRadioReset
       6  macRadioReset::?relay
      46  macRadioSetChannel
       6  macRadioSetChannel::?relay
      19  macRadioSetIEEEAddr
       6  macRadioSetIEEEAddr::?relay
      30  macRadioSetPanCoordinator
       6  macRadioSetPanCoordinator::?relay
      10  macRadioSetPanID
       6  macRadioSetPanID::?relay
      10  macRadioSetShortAddr
       6  macRadioSetShortAddr::?relay
     145  macRadioSetTxPower
       6  macRadioSetTxPower::?relay
      77  macRadioStartScan
       6  macRadioStartScan::?relay
      27  macRadioStopScan
       6  macRadioStopScan::?relay
      78  macRadioUpdateChannel
       6  macRadioUpdateChannel::?relay
     109  macRadioUpdateTxPower
       6  macRadioUpdateTxPower::?relay
     101  radioComputeED
       6  radioComputeED::?relay
       1  reqChannel
       1  reqTxPower

 
 774 bytes in segment BANKED_CODE
 102 bytes in segment BANK_RELAYS
   1 byte  in segment SFR_AN
   4 bytes in segment XDATA_Z
 
 102 bytes of CODE     memory
   0 bytes of DATA     memory (+ 1 byte shared)
 774 bytes of HUGECODE memory
   4 bytes of XDATA    memory

Errors: none
Warnings: none
